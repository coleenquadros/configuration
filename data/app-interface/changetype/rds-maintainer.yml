---
$schema: /app-interface/change-type-1.yml

labels: {}

name: rds-maintainer
description: |
  Allow updates on AWS RDS instances in namespaces.

priority: high

contextType: datafile
contextSchema: /openshift/namespace-1.yml

changes:
- provider: jsonPath
  jsonPathSelectors:
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.deletion_protection
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.maintenance_window
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.apply_immediately
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.engine_version
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.allow_major_version_upgrade
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].overrides.performance_insights_enabled
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].parameter_group
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].old_parameter_group
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].enhanced_monitoring
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].reset_password
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].ca_cert
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].annotations
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].event_notifications
  - externalResources[?(@.provider=="aws")].resources[?(@.provider=="rds")].output_resource_name
