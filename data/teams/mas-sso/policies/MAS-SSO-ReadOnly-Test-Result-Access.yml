---
$schema: /aws/policy-1.yml

labels: {}

account:
  $ref: /aws/app-sre/account.yml

name: MAS-SSO-ReadOnly-Test-Result-Access
description: |
  Allows a user read only access s3 bucket related
  data. Data consists of performance test results and
  logs. This also includes error budget check results.

policy:
  {
    "Version": "2012-10-17",
    "Statement":
      [
        {
          "Sid": "MASSSOListAllMyBuckets",
          "Effect": "Allow",
          "Action": ["s3:ListAllMyBuckets", "s3:GetBucketLocation"],
          "Resource": ["arn:aws:s3:::*"]
        },
        {
          "Sid": "MASSSOReadOnlyTestResultAccess",
          "Effect": "Allow",
          "Action": ["s3:GetObject", "s3:ListBucket"],
          "Resource":
            [
              "arn:aws:s3:::mas-sso-s3-resource",
              "arn:aws:s3:::mas-sso-s3-resource/*",
            ],
        },
      ],
  }
