---
$schema: /access/role-1.yml

labels: {}
name: insights-tools

permissions:
- $ref: /teams/insights/quay-teams/cloudsre.yml
- $ref: /dependencies/ci-ext/permissions/ci-ext-job-control.yml
- $ref: /dependencies/ci-int/permissions/ci-int-job-control.yml
- $ref: /dependencies/unleash/permissions/insights-stage.yml
- $ref: /dependencies/unleash/permissions/insights.yml

oidc_permissions:
- $ref: /dependencies/vault/permissions/oidc/prod/insights/insights-vault-admin.yml

access:
- cluster:
    $ref: /openshift/crcs02ue1/cluster.yml
  group: dedicated-admins
- cluster:
    $ref: /openshift/crcp01ue1/cluster.yml
  group: dedicated-admins

self_service:
- change_type:
    $ref: /app-interface/changetype/saas-file-self-service.yml
  datafiles:
  - $ref: /services/insights/third-party-operators/deploy.yml
  - $ref: /services/insights/strimzi/saas.yml
- change_type:
    $ref: /app-interface/changetype/app-owner.yml
  datafiles:
  - $ref: /services/insights/app.yml
  - $ref: /services/insights/cicd/app.yml
  - $ref: /services/insights/strimzi/app.yml
  - $ref: /services/insights/ephemeral/app.yml
- change_type:
    $ref: /app-interface/changetype/namespace-owner.yml
  datafiles:
  - $ref: /services/insights/strimzi/namespaces/stage-platform-mq-stage.yml
  - $ref: /services/insights/strimzi/namespaces/platform-mq-prod.yml
- change_type:
    $ref: /app-interface/changetype/role-manager.yml
  datafiles:
  - $ref: /teams/insights/roles/insights-engineers.yml
  - $ref: /teams/insights/roles/insights-tools.yml
  - $ref: /teams/insights/roles/insights-stage-unleash-admin.yml
  - $ref: /teams/insights/roles/insights-unleash-admin.yml
  - $ref: /teams/insights/roles/ephemeral-admins.yml
  - $ref: /teams/insights/roles/ephemeral-users.yml
  - $ref: /teams/insights/roles/aws/prod-app-developers.yml
  - $ref: /teams/insights/roles/aws/prod-platform-team.yml
  - $ref: /teams/insights/roles/aws/stage-app-developers.yml
  - $ref: /teams/insights/roles/aws/stage-platform-team.yml
  - $ref: /teams/insights/roles/blackbox-monitor.yml
  - $ref: /teams/insights/roles/kibana.yml
  - $ref: /teams/insights/roles/prometheus.yml
  - $ref: /teams/insights/roles/insights-view-all-namespaces.yml
  - $ref: /teams/insights/roles/auth-only.yml
  - $ref: /teams/insights/roles/crcd-dev-jenkins-viewers.yml
- change_type:
    $ref: /app-interface/changetype/aws-account-owner.yml
  datafiles:
  - $ref: /aws/insights-stage/account.yml
  - $ref: /aws/insights-prod/account.yml
- change_type:
    $ref: /app-interface/changetype/cluster-owner.yml
  datafiles:
  - $ref: /openshift/insights/c-rh-c-eph/cluster.yml
  - $ref: /openshift/insights/crcd01ue1/cluster.yml
- change_type:
    $ref: /app-interface/changetype/resource-owner.yml
  resources:
  - /jenkins/insights/ci-ext/job-templates.yaml
  - /jenkins/insights/ci-int/job-templates.yaml
  - /jenkins/insights/global/base-templates.yaml
  - /jenkins/insights/secrets.yaml
  - /insights-ephemeral/hac/hac-bundle-insights.yaml
  - /insights-ephemeral/hac/hac-bundle-landing.yaml
  - /insights-ephemeral/hac/hac-bundle-hac.yaml
  - /insights-ephemeral/hac/hac-frontend-landing.yaml
  - /insights-ephemeral/hac/hac-frontend-environment.yaml
  - /insights-ephemeral/hac/hac-clowd-environment.yaml
