---
$schema: /app-sre/app-1.yml

labels:
  service: sentry
  deployment_validation_operator_no_anti_affinity: skip
  deployment_validation_operator_minimum_three_replicas: skip
  deployment_validation_operator_no_liveness_probe: skip
  deployment_validation_operator_no_readiness_probe: skip  

name: Sentry

description: |
  Sentry is an error tracking tool.

architectureDocument: https://TODO
sopsUrl: https://gitlab.cee.redhat.com/TODO
grafanaUrls:
- title: TODOREPLACE
  url: https://TODO
onboardingStatus: OnBoarded

escalationPolicy:
  $ref: /teams/app-sre/escalation-policies/general.yaml
serviceOwners:
- name: App-SRE Team
  email: sd-app-sre@redhat.com

dependencies:
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  items:
  - name: sentry
    description: Error tracking tool
    public: true
  - name: redis-5
    description: ubi8 based redis v5
    public: false

codeComponents:
- name: sentry
  resource: upstream
  url: https://github.com/app-sre/sentry

endPoints:
- name: sentry-stage-health-endpoint
  description: Sentry staging health endpoint
  url: https://sentry.stage.devshift.net/_health/
  monitoring:
  - provider:
      $ref: /dependencies/monitoring/blackbox-http-2xx-stage-warning.yml
- name: sentry-health-endpoint
  description: Sentry production health endpoint
  url: https://sentry.devshift.net/_health/
  monitoring:
  - provider:
      $ref: /dependencies/monitoring/blackbox-http-2xx-critical.yml
