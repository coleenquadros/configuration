---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: acs-fleet-manager

name: ci-ext-acs-fleet-manager-jobs

description: ''

app:
  $ref: /services/acs-fleet-manager/app.yml

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
  - project:
      name: acs-fleet-manager
      label: acs-fleet-manager
      node: app-sre
      gh_org: stackrox
      gh_repo: acs-fleet-manager
      quay_org: app-sre
      build_deploy_script_path: "./build_deploy.sh"
      jobs:
        - 'gh-build-master':
            display_name: acs-fleet-manager build main
            branch: main

  - project:
      name: acs-fleet-manager-e2e-tests
      label: acs-fleet-manager
      node: app-sre
      gh_org: stackrox
      gh_repo: acs-fleet-manager
      jobs:
        - 'acs-fleet-manager-e2e':
            display_name: ACS Fleet Manager e2e test
            upstream: stackrox-acs-fleet-manager-gh-build-main
            branch: main
