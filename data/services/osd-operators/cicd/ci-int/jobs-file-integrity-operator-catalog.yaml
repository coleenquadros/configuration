---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: osd-operators

name: ci-int-osd-operators-file-integrity-operator-catalog-jobs

description: 'file-integrity operator catalog'

app:
  $ref: /services/osd-operators/app.yml

instance:
  $ref: /dependencies/ci-int/ci-int.yml

type: jobs

config:
- project:
    name: file-integrity-operator-catalog
    node: osd-operators
    label: osd-operators
    gl_group: service
    gl_project: file-integrity-operator-catalog
    quay_org: app-sre
    build_deploy_script_path: make catalog-build-push
    jobs:
    - 'gl-build-master-custom-catalog-source':
        display_name: file-integrity-operator-catalog build master branch
    - 'gl-pr-check-custom-catalog-source':
        display_name: file-integrity-operator-catalog pr-check

- project:
    name: file-integrity-operator-catalog-version
    label: osd-operators
    node: osd-operators
    gl_group: service
    gl_project: file-integrity-operator-catalog
    jobs:
    - 'gl-update-operator-version-custom-catalog-source':
        display_name: file-integrity-operator-catalog operator version update
        ci_cmd: make update-versions-commit
        cron_expression: '30 1 * * 2' # At 01:30 every Tuesday
