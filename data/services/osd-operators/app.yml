---
$schema: /app-sre/app-1.yml

labels:
  service: osd-operators
  deployment_validation_operator_minimum_three_replicas: skip
  deployment_validation_operator_no_liveness_probe: skip
  deployment_validation_operator_no_readiness_probe: skip
  deployment_validation_operator_unset_cpu_requirements: skip # is there a way to only enforce requests?
  deployment_validation_operator_unset_memory_requirements: skip # should be fixed (complemented with alerts)

name: osd-operators

description: |
  OpenShift Dedicated managed operators

architectureDocument: https://TODO
sopsUrl: https://gitlab.cee.redhat.com/TODO
grafanaUrls:
- title: TODOREPLACE
  url: https://TODO
onboardingStatus: OnBoarded

escalationPolicy:
  $ref: /teams/sd-sre/escalation-policies/general.yaml
serviceOwners:
- name: James Harrington
  email: jaharrin@redhat.com
- name: Naveen Malik
  email: nmalik@redhat.com
- name: Chrisoph Blecker
  email: cblecker@redhat.com
- name: Dom Finn
  email: dofinn@redhat.com
- name: Manuel Dewald
  email: mdewald@redhat.com
- name: Rogerio Bastos
  email: rbastos@redhat.com

serviceNotifications:
- name: SRE Mailing list
  email: sd-sre@redhat.com

dependencies:
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/ci-int/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/gitlab/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml
- $ref: /dependencies/aws/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  items:
  - name: ocm-agent-operator
    description: main ocm-agent-operator container
    public: true
  - name: ocm-agent-operator-registry
    description: ocm-agent-operator-registry for olm catalog
    public: true
  - name: ocm-agent
    description: ocm-agent images
    public: true
  - name: osd-network-verifier
    description: osd-network-verifier validation images
    public: true
  - name: addon-operator-bundle
    description: addon-operator-bundle for the olm index
    public: true
  - name: addon-operator-index
    description: addon-operator-index for olm catalog
    public: true
  - name: boilerplate
    description: boilerplate dependencies image
    public: true
  - name: managed-upgrade-operator
    description: main managed-upgrade-operator container
    public: true
  - name: managed-upgrade-operator-registry
    description: managed-upgrade-operator-registry for olm catalog
    public: true
  - name: pagerduty-operator
    description: main pagerduty-operator container
    public: true
  - name: pagerduty-operator-registry
    description: pagerduty-operator-registry for olm catalog
    public: true
  - name: certman-operator
    description: main certman-operator container
    public: true
  - name: certman-operator-registry
    description: certman-operator-registry for olm catalog
    public: true
  - name: custom-domains-operator
    description: main custom-domains-operator container
    public: true
  - name: custom-domains-operator-registry
    description: custom-domains-operator-registry for olm catalog
    public: true
  - name: deadmanssnitch-operator
    description: main deadmanssnitch-operator container
    public: true
  - name: deadmanssnitch-operator-registry
    description: deadmanssnitch-operator-registry for olm catalog
    public: true
  - name: configure-alertmanager-operator
    description: main configure-alertmanager-operator container
    public: true
  - name: configure-alertmanager-operator-registry
    description: configure-alertmanager-operator-registry for olm catalog
    public: true
  - name: dedicated-admin-operator
    description: main dedicated-admin-operator container
    public: true
  - name: dedicated-admin-operator-registry
    description: dedicated-admin-operator-registry for olm catalog
    public: true
  - name: splunk-forwarder-operator
    description: splunk-forwarder-operator container
    public: true
  - name: splunk-forwarder-operator-registry
    description: splunk-forwarder-operator-registry for olm catalog
    public: true
  - name: splunk-forwarder
    description: splunk forwarder image that is deployed by a daemonset from the splunk
      forwarder operator
    public: true
  - name: splunk-audit-exporter
    description: For policy-driven filtering and sanitizing of forwarded apiserver audit logs for OpenShift Dedicated.
    public: true
  - name: splunk-heavyforwarder
    description: splunk heavy forwarder image that is deployed by a deployment app
      from the splunk forwarder operator
    public: true
  - name: rbac-permissions-operator
    description: main rbac-permissions-operator container
    public: true
  - name: rbac-permissions-operator-registry
    description: rbac-permissions-operator-registry for olm catalog
    public: true
  - name: cloud-ingress-operator
    description: main cloud-ingress-operator container
    public: true
  - name: cloud-ingress-operator-registry
    description: cloud-ingress-operator-registry for olm catalog
    public: true
  - name: managed-velero-operator
    description: Operator to manage installation of Velero in managed OpenShift environments
    public: true
  - name: managed-velero-operator-registry
    description: managed-velero-operator-registry for olm catalog
    public: true
  - name: managed-cluster-validating-webhooks
    description: main managed-cluster-validating-webhooks container
    public: true
  - name: gcp-project-operator
    description: main gcp-project-operator container
    public: true
  - name: gcp-project-operator-registry
    description: gcp-project-operator-registry for olm catalog
    public: true
  - name: aws-efs-operator
    description: main aws-efs-operator container
    public: true
  - name: aws-account-shredder
    description: aws-account-shredder container image
    public: true
  - name: yq
    description: Used in SREP operators - build catalog script
    public: true
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/mikefarah/yq.yml
  - name: token-refresher
    description: Used in SREP metrics exporter operator
    public: true
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/observatorium/token-refresher.yml
  - name: python
    description: Used in SREP operators CICD and metric exporters
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/python.yml
  - name: must-gather-operator
    description: Operator to enable CEE members to collect must-gathers on OSDv4 clusters
    public: true
  - name: must-gather-operator-registry
    description: must-gather-operator-registry for olm catalog
    public: true
  - name: compliance-operator-catalog
    description: custom catalog source images for upstream compliance operator
    public: true
  - name: file-integrity-operator-catalog
    description: custom catalog source images for upstream file-integrity operator
    public: true
  - name: container-security-operator-catalog
    description: custom catalog source images for upstream container security operator
    public: true
  - name: osd-metrics-exporter
    description: main osd-metrics-exporter container
    public: true
  - name: osd-metrics-exporter-registry
    description: osd-metrics-exporter-registry for olm catalog
    public: true
  - name: route-monitor-operator
    description: Operator to automatically enable blackbox probes for routes on OpenShift
      clusters
    public: true
  - name: route-monitor-operator-registry
    description: route-monitor-operator-registry for olm catalog
    public: true
  - name: managed-node-metadata-operator
    description: Operator to sync metadata from machinesets to nodes
    public: true
  - name: managed-node-metadata-operator-registry
    description: managed-node-metadata-operator-registry for olm catalog
    public: true
  - name: srep-network-toolbox
    description: main srep-network-toolbox container
    public: true
  - name: velero
    description: Base image for the managed-velero-operator to use
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/velero.yaml
    public: false
  - name: velero-plugin-for-aws
    description: velero's aws plugin used in managed-velero-operator
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/velero-plugin-for-aws.yaml
    public: false
  - name: velero-plugin-for-gcp
    description: velero's gcp plugin used in managed-velero-operator
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/velero-plugin-for-gcp.yaml
    public: false
  - name: sre-ssh-proxy
    description: sre-ssh-proxy container image
    public: true
  - name: managed-prometheus-exporter-initcontainer
    description: managed-prometheus-exporter-initcontainer container image
    public: true
  - name: managed-prometheus-exporter-base
    description: managed-prometheus-exporter-base container image
    public: true
  - name: suricata
    description: suricata container for ids
    public: true
  - name: ids-tester
    description: ids-tester container for suricata
    public: true
  - name: clamd
    description: clamd container image for clamav workloads
    public: true
  - name: clamsig-puller
    description: clamsig-puller container image for clamav workloads
    public: true
  - name: container-info
    description: container-info container image for clamav workloads
    public: true
  - name: pod-logger
    description: pod-logger container image for clamav workloads
    public: true
  - name: watcher
    description: watcher container image for clamav workloads
    public: true
  - name: ids-tester
    description: ids-tester image generates traffic caught by suricata
    public: true
  - name: scan-tester
    description: scan-tester image contains code caught by osd-scanning
    public: true
  - name: osd-cluster-ready
    description: osd-cluster-ready container image
    public: true


codeComponents:
- name: ocm-agent-operator
  resource: upstream
  url: https://github.com/openshift/ocm-agent-operator
- name: saas-ocm-agent-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-ocm-agent-operator-bundle
- name: ocm-agent
  resource: upstream
  url: https://github.com/openshift/ocm-agent
- name: osd-network-verifier
  resource: upstream
  url: https://github.com/openshift/osd-network-verifier
- name: addon-operator
  resource: upstream
  url: https://github.com/openshift/addon-operator
- name: must-gather-operator
  resource: upstream
  url: https://github.com/openshift/must-gather-operator
- name: saas-must-gather-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-must-gather-operator-bundle
- name: boilerplate
  resource: upstream
  url: https://github.com/openshift/boilerplate
- name: custom-domains-operator
  resource: upstream
  url: https://github.com/openshift/custom-domains-operator
- name: managed-upgrade-operator
  resource: upstream
  url: https://github.com/openshift/managed-upgrade-operator
- name: saas-managed-upgrade-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-managed-upgrade-operator-bundle
- name: gcp-project-operator
  resource: upstream
  url: https://github.com/openshift/gcp-project-operator
- name: pagerduty-operator
  resource: upstream
  url: https://github.com/openshift/pagerduty-operator
- name: splunk-forwarder-images
  resource: upstream
  url: https://github.com/openshift/splunk-forwarder-images
- name: splunk-audit-exporter
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/splunk-audit-exporter
- name: splunk-forwarder-operator
  resource: upstream
  url: https://github.com/openshift/splunk-forwarder-operator
- name: managed-cluster-config
  resource: upstream
  url: https://github.com/openshift/managed-cluster-config
- name: managed-prometheus-exporter-dns
  resource: upstream
  url: https://github.com/openshift/managed-prometheus-exporter-dns
- name: managed-prometheus-exporter-ebs-iops-reporter
  resource: upstream
  url: https://github.com/openshift/managed-prometheus-exporter-ebs-iops-reporter
- name: managed-prometheus-exporter-stuck-ebs-vols
  resource: upstream
  url: https://github.com/openshift/managed-prometheus-exporter-stuck-ebs-vols
- name: certman-operator
  resource: upstream
  url: https://github.com/openshift/certman-operator
- name: operator-curator
  resource: upstream
  url: https://github.com/openshift/operator-curator
- name: dedicated-admin-operator
  resource: upstream
  url: https://github.com/openshift/dedicated-admin-operator
- name: configure-alertmanager-operator
  resource: upstream
  url: https://github.com/openshift/configure-alertmanager-operator
- name: deadmanssnitch-operator
  resource: upstream
  url: https://github.com/openshift/deadmanssnitch-operator
- name: qe-cluster-delivery
  resource: other
  url: https://gitlab.cee.redhat.com/service/qe-cluster-delivery
- name: rbac-permissions-operator
  resource: upstream
  url: https://github.com/openshift/rbac-permissions-operator
- name: cloud-ingress-operator
  resource: upstream
  url: https://github.com/openshift/cloud-ingress-operator
- name: osd-metrics-exporter
  resource: upstream
  url: https://github.com/openshift/osd-metrics-exporter
- name: saas-splunk-forwarder-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-splunk-forwarder-operator-bundle
- name: saas-rbac-permissions-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-rbac-permissions-operator-bundle
- name: saas-cloud-ingress-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-cloud-ingress-operator-bundle
- name: saas-pagerduty-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-pagerduty-operator-bundle
- name: saas-dedicated-admin-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-dedicated-admin-operator-bundle
- name: saas-deadmanssnitch-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-deadmanssnitch-operator-bundle
- name: saas-configure-alertmanager-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-configure-alertmanager-operator-bundle
- name: saas-certman-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-certman-operator-bundle
- name: saas-custom-domains-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-custom-domains-operator-bundle
- name: saas-gcp-project-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-gcp-project-operator-bundle
- name: saas-managed-velero-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-managed-velero-operator-bundle
- name: saas-osd-metrics-exporter-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-osd-metrics-exporter-bundle
- name: managed-velero-operator
  resource: upstream
  url: https://github.com/openshift/managed-velero-operator
- name: managed-cluster-validating-webhooks
  resource: upstream
  url: https://github.com/openshift/managed-cluster-validating-webhooks
- name: aws-efs-operator
  resource: upstream
  url: https://github.com/openshift/aws-efs-operator
- name: aws-account-shredder
  resource: upstream
  url: https://github.com/openshift/aws-account-shredder
- name: authorizedkeys-builder
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/authorizedkeys-builder
- name: backplane-api
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/backplane-api
- name: backplane-cli
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/backplane-cli
- name: route-monitor-operator
  resource: upstream
  url: https://github.com/openshift/route-monitor-operator
- name: saas-route-monitor-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-route-monitor-operator-bundle
- name: managed-node-metadata-operator
  resource: upstream
  url: https://github.com/openshift/managed-node-metadata-operator
- name: saas-managed-node-metadata-operator-bundle
  resource: bundle
  url: https://gitlab.cee.redhat.com/service/saas-managed-node-metadata-operator-bundle
- name: osd-operator-status
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/osd-operator-status
- name: osd-aws-privatelink-terraform
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/osd-aws-privatelink-terraform
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: aws-payer-accounts-terraform
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/aws-payer-accounts-terraform
  gitlabRepoOwners:
    enabled: false
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: srep-network-toolbox
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/srep-network-toolbox
- name: compliance-operator-catalog
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/compliance-operator-catalog
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: file-integrity-operator-catalog
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/file-integrity-operator-catalog
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: container-security-operator-catalog
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/container-security-operator-catalog
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: osd-backplane-bastion-infra
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/osd-backplane-bastion-infra
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: sre-ssh-proxy
  resource: upstream
  url: https://github.com/openshift/sre-ssh-proxy-container
- name: managed-prometheus-exporter-initcontainer
  resource: upstream
  url: https://github.com/openshift/managed-prometheus-exporter-initcontainer
- name: managed-prometheus-exporter-base
  resource: upstream
  url: https://github.com/openshift/managed-prometheus-exporter-base
- name: ids-images
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/ids-images
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: clamav-images
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/clamav-images
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: security-tester-images
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/security-tester-images
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
- name: osd-cluster-ready
  resource: upstream
  url: https://github.com/openshift/osd-cluster-ready
