---
$schema: /app-sre/saas-file-2.yml

labels: {}

name: saas-mt-temp
description: SaaS tracking file for managed-tenants

app:
  $ref: /services/addons/app.yml

pipelinesProvider:
  $ref: /services/addons/pipelines/tekton.mt-pipelines.appsrep05ue1.yaml

slack:
  output: events
  workspace:
    $ref: /dependencies/slack/redhat-internal.yml
  channel: sd-mt-sre-info

managedResourceTypes:
- SelectorSyncSet

imagePatterns: []

allowedSecretParameterPaths:
- mt-sre/tenants

secretParameters:
- name: REFERENCE_ADDON__PROM_REMOTE_WRITE_SECRET__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/reference-addon/secrets/rhobs-remote-write
    version: 2
- name: REFERENCE_ADDON__PROM_REMOTE_WRITE_SECRET__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/reference-addon/secrets/rhobs-remote-write
    version: 2
- name: OCS_PROVIDER_DEV__OCS_PROVIDER_DEV_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_PROVIDER_DEV__OCS_PROVIDER_DEV_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_PROVIDER_DEV__OCS_PROVIDER_DEV_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_DEV__OCS_CONSUMER_DEV_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_DEV__OCS_CONSUMER_DEV_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_DEV__OCS_CONSUMER_DEV_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_PROVIDER_QE__OCS_PROVIDER_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_PROVIDER_QE__OCS_PROVIDER_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_PROVIDER_QE__OCS_PROVIDER_QE_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_QE__OCS_CONSUMER_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_QE__OCS_CONSUMER_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6
- name: OCS_CONSUMER_QE__OCS_CONSUMER_QE_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prom-remote-write-secret
    version: 6

- name: OCS_PROVIDER__OCS_PROVIDER_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_PROVIDER__OCS_PROVIDER_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_PROVIDER__OCS_PROVIDER_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_CONSUMER__OCS_CONSUMER_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_CONSUMER__OCS_CONSUMER_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_CONSUMER__OCS_CONSUMER_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/odf/secrets/managed-ocs-prod-prom-remote-write-secret
    version: 2
- name: OCS_PROVIDER_DEV__ADDON_PULLSECRET___DOCKERCONFIGJSON
  secret:
    field: .dockerconfigjson
    path: mt-sre/tenants/odf/secrets/pull-secret
    version: 1
- name: OCS_CONSUMER_DEV__ADDON_PULLSECRET___DOCKERCONFIGJSON
  secret:
    field: .dockerconfigjson
    path: mt-sre/tenants/odf/secrets/pull-secret
    version: 1
- name: OCS_PROVIDER_QE__ADDON_PULLSECRET___DOCKERCONFIGJSON
  secret:
    field: .dockerconfigjson
    path: mt-sre/tenants/odf/secrets/pull-secret
    version: 1
- name: OCS_CONSUMER_QE__ADDON_PULLSECRET___DOCKERCONFIGJSON
  secret:
    field: .dockerconfigjson
    path: mt-sre/tenants/odf/secrets/pull-secret
    version: 1
- name: MCG_OSD__MCG_OSD_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: MCG_OSD__MCG_OSD_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: MCG_OSD__MCG_OSD_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: MCG_OSD_QE__MCG_OSD_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_ID
  secret:
    field: prom-remote-write-config-id
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: MCG_OSD_QE__MCG_OSD_QE_PROM_REMOTE_WRITE__PROM_REMOTE_WRITE_CONFIG_SECRET
  secret:
    field: prom-remote-write-config-secret
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: MCG_OSD_QE__MCG_OSD_QE_PROM_REMOTE_WRITE__RHOBS_AUDIENCE
  secret:
    field: rhobs-audience
    path: mt-sre/tenants/data-federation/secrets/prom-remote-write-secret
    version: 1
- name: CONNECTORS_OPERATOR__ADDON_PULLSECRET___DOCKERCONFIGJSON
  secret:
    field: .dockerconfigjson
    path: mt-sre/tenants/connectors-operator/secrets/pull-secret
    version: 3
- name: MANAGED_STARBURST__STARBURST_ADDON__CLIENT_ID
  secret:
    field: client-id
    path: mt-sre/tenants/rhods/secrets/starburst-addon
    version: 2    
- name: MANAGED_STARBURST__STARBURST_ADDON__CLIENT_SECRET
  secret:
    field: client-secret
    path: mt-sre/tenants/rhods/secrets/starburst-addon
    version: 2    
- name: MANAGED_STARBURST__STARBURST_ADDON__REMOTE_WRITE_URL
  secret:
    field: remote-write-url
    path: mt-sre/tenants/rhods/secrets/starburst-addon
    version: 2
- name: MANAGED_STARBURST__STARBURST_ADDON__TOKEN_URL
  secret:
    field: token-url
    path: mt-sre/tenants/rhods/secrets/starburst-addon
    version: 2
- name: MANAGED_STARBURST__STARBURST_ADDON__STARBURSTENTERPRISE_YAML    
  secret:
    field: starburstenterprise.yaml
    path: mt-sre/tenants/rhods/secrets/starburst-addon
    version: 2
resourceTemplates:
- name: managed-tenants-stage
  url: https://gitlab.cee.redhat.com/service/managed-tenants-manifests
  path: /stage/secrets-template.yaml
  targets:
  - namespace:
      $ref: /services/osd-operators/namespaces/hive-stage-01/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hives02ue1/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/ssotest01ue1/cluster-scope.yml
    ref: main
- name: managed-tenants-production
  url: https://gitlab.cee.redhat.com/service/managed-tenants-manifests
  path: /production/secrets-template.yaml
  targets:
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep01ue1/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep02ue1/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep03uw1/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep04ew2/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep05ue1/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep06uw2/cluster-scope.yml
    ref: main
  - namespace:
      $ref: /services/osd-operators/namespaces/hivep07ue2/cluster-scope.yml
    ref: main
