---
$schema: /app-sre/app-1.yml


labels:
  service: addons

name: addons

description: |
  A container for Add-Ons related resources.

architectureDocument: https://TODO
sopsUrl: https://gitlab.cee.redhat.com/TODO
grafanaUrls:
- title: TODOREPLACE
  url: https://TODO
onboardingStatus: OnBoarded

escalationPolicy:
  $ref: /teams/mt-sre/escalation-policies/general.yaml
serviceOwners:
- name: Aditya Konarde
  email: akonarde@redhat.com
- name: Amador Pahim
  email: apahim@redhat.com
- name: Josh Gwosdz
  email: jgwosdz@redhat.com

dependencies:
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/ci-int/service.yml
- $ref: /dependencies/gitlab/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/openshift/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  items:
  - name: addon-operator-manager
    description: Addons Lifecycle on managed OpenShift
    public: true
  - name: addon-operator-webhook
    description: Webhooks for Addons Lifecycle on managed OpenShift
    public: true
  - name: reference-addon-manager
    description: >
      Reference Addon is a real Addon, created to validate and
      demonstrate the Addons Flow.
    public: true
  - name: addon-metadata-operator
    description: Addons metadata Lifecycle on managed OpenShift
    public: true
- org:
    $ref: /dependencies/quay/mtsre.yml
  items:
  - name: mtcli
    description: MTCLI shipped as a part of the addon-metadata-operator
    public: true
  - name: addon-metadata-operator
    description: An operator for accelerating Kubernetes-API-driven managed-tenants tooling. Ref - https://github.com/mt-sre/addon-metadata-operator
    public: true
  - name: opm-ubi
    description: A UBI base container for OPM index images
    public: true
  - name: registry
    description: A custom docker registry based on the upstream dockerhub registry.
    public: true
  - name: validate-imageset
    description: A utility to validate imageset files generated by CPaaS.
    public: true


codeComponents:
- name: managed-tenants
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/managed-tenants
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: false
    enable_closing: true
    days_interval: 7
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: managed-tenants-bundles
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/managed-tenants-bundles
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: true
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: managed-tenants-manifests
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/managed-tenants-manifests
  gitlabHousekeeping:
    enabled: true
    rebase: true
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: managed-tenants-sops
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/managed-tenants-sops
  gitlabRepoOwners:
    enabled: true
  gitlabHousekeeping:
    enabled: true
    rebase: true
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: managed-tenants-cli
  resource: upstream
  url: https://github.com/mt-sre/managed-tenants-cli
- name: addon-metadata-operator
  resource: upstream
  url: https://github.com/mt-sre/addon-metadata-operator
- name: managed-tenant-slos
  resource: upstream
  url: https://gitlab.cee.redhat.com/mt-sre/managed-tenant-slos
- name: ocm-addons
  resource: upstream
  url: https://github.com/mt-sre/ocm-addons
- name: addons-infrastructure
  resource: upstream
  url: https://github.com/mt-sre/addons-infrastructure
- name: go-ci
  resource: upstream
  url: https://github.com/mt-sre/go-ci
- name: client
  resource: upstream
  url: https://github.com/mt-sre/client
- name: containers
  resource: upstream
  url: https://github.com/mt-sre/containers
