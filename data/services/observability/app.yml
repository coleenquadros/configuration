---
$schema: /app-sre/app-1.yml


labels:
  service: app-sre-observability

name: app-sre-observability

description: |
  App SRE observability stack

architectureDocument: https://TODO
sopsUrl: https://gitlab.cee.redhat.com/TODO
grafanaUrls:
- title: TODOREPLACE
  url: https://TODO
onboardingStatus: OnBoarded

escalationPolicy:
  $ref: /teams/app-sre/escalation-policies/stream-2.yaml
serviceOwners:
- name: App-SRE Stream 2
  email: sd-app-sre+stream-2@redhat.com

dependencies:
- $ref: /dependencies/aws/service.yml
- $ref: /dependencies/ci-ext/service.yml
- $ref: /dependencies/ci-int/service.yml
- $ref: /dependencies/github/service.yml
- $ref: /dependencies/gitlab/service.yml
- $ref: /dependencies/quay/service.yml
- $ref: /dependencies/openshift/service.yml

quayRepos:
- org:
    $ref: /dependencies/quay/app-sre.yml
  items:
  - name: jiralert
    description: https://github.com/app-sre/container-images
    public: true
  - name: aws-resource-exporter
    description: Prometheus exporter for AWS resource metadata and metrics which are
      not available in Cloudwatch
    public: true
  - name: grafana
    description: Mirror for https://docker.io/grafana/grafana
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/grafana/grafana.yml
  - name: prom-pushgateway
    description: Mirror for https://hub.docker.com/r/prom/pushgateway/
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/prom/pushgateway.yml
  - name: prom-cloudwatch-exporter
    description: Mirror for https://hub.docker.com/r/prom/cloudwatch-exporter/
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/prom/cloudwatch-exporter.yml
  - name: prom-blackbox-exporter
    description: Mirror for https://quay.io/repository/prometheus/blackbox-exporter
    public: true
    mirror:
      $ref: /dependencies/image-mirrors/quay.io/prometheus/blackbox-exporter.yml
  - name: domain-exporter
    description: Mirror for https://hub.docker.com/r/caarlos0/domain_exporter/
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/caarlos0/domain-exporter.yml
  - name: k8s-sidecar
    description: Mirror for https://hub.docker.com/r/kiwigrid/k8s-sidecar
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/kiwigrid/k8s-sidecar.yml
  - name: promlens
    description: Mirror for https://hub.docker.com/r/promlabs/promlens
    public: false
    mirror:
      $ref: /dependencies/image-mirrors/docker.io/promlens/promlens.yml
  - name: signalfx-prometheus-exporter
    description: Prometheus exporter for SignalFX metrics
    public: true

codeComponents:
- name: app-sre-observability
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/app-sre-observability
  jira:
    $ref: /dependencies/jira/issues-redhat-com.yaml
- name: promlens
  resource: upstream
  url: https://gitlab.cee.redhat.com/service/promlens
- name: aws-resource-exporter
  resource: upstream
  url: https://github.com/app-sre/aws-resource-exporter
- name: jiralert
  resource: upstream
  url: https://github.com/app-sre/jiralert-openshift
- name: signalfx-prometheus-exporter
  resource: upstream
  url: https://github.com/app-sre/signalfx-prometheus-exporter
