---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: xjoin
  platform: insights

name: ci-ext-insights-xjoin-jobs

description: Build job for xjoin github images

app:
  $ref: /services/insights/xjoin/app.yml

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
- project:
    name: xjoin-api-gateway
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: xjoin-api-gateway
    quay_org: cloudservices
    jobs:
    - insights-gh-build-master:
        display_name: xjoin-api-gateway build-master

- project:
    name: xjoin-search
    label: insights
    node: insights
    gh_org: RedHatInsights
    gh_repo: xjoin-search
    quay_org: cloudservices
    jobs:
    - insights-gh-build-master:
        display_name: xjoin-search build-master
    - insights-gh-pr-check:
        display_name: xjoin-search pr-check
    - insights-gh-build-master:
        display_name: xjoin-search build-security-compliance
        branch: security-compliance

