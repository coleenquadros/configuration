---
$schema: /openshift/namespace-1.yml

labels: {}

name: dh-prod-prometheus-lts
description: Production namespace for Telemeter global view dashboards

cluster:
  $ref: /openshift/datahub-psi/cluster.yml

app:
  $ref: /services/telemeter-ocp-dashboards/app.yml

environment:
  $ref: /products/osdv4/environments/production.yml

managedResourceTypes:
- Secret

sharedResources:
- $ref: /services/app-sre/shared-resources/quayio-pull-secret.yml

openshiftResources:
## Grafana
### Secrets
- provider: vault-secret
  path: app-interface/datahub-psi/dh-prod-prometheus-lts/grafana/grafana-config
  version: 4
- provider: vault-secret
  path: app-interface/datahub-psi/dh-prod-prometheus-lts/grafana/grafana-proxy-config
  version: 1
- provider: resource-template
  type: extracurlyjinja2
  path: /datahub-psi/grafana-datasources.secret.yaml

openshiftServiceAccountTokens:
- namespace:
    $ref: /services/telemeter/namespaces/telemeter-production.yml
  serviceAccountName: datahub-prometheus-access
