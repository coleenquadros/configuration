
---
$schema: /vault-config/policy-1.yml

labels:
  service: vault.devshift.net

name: "insights-gateway-policy"
rules: |
  path "insights/data/secrets/insights-dev/3scale-ci/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/insights-dev/3scale-qa/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/insights-prod/3scale-prod/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/insights-prod/3scale-prod/metadata/" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "insights/data/secrets/insights-prod/3scale-prod/metadata/*" {
    capabilities = ["create", "read", "update", "list"]
  }
  path "insights/data/secrets/insights-stage/3scale-stage/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/ephemeral/3scale/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/insights-fedramp-stage/3scale-fedramp-stage/*" {
    capabilities = ["create", "read", "update"]
  }
  path "insights/data/secrets/insights-fedramp-prod/3scale-fedramp-prod/*" {
    capabilities = ["create", "read", "update"]
  }
