---
$schema: /dependencies/jenkins-config-1.yml

labels:
  service: launcher

name: ci-ext-launcher-jobs

description: ''

instance:
  $ref: /dependencies/ci-ext/ci-ext.yml

type: jobs

config:
- project:
    name: code-quarkus-ci
    label: code-quarkus
    node: quarkus
    gh_org: quarkusio
    gh_repo: code.quarkus.io
    quay_org: quarkus
    kube_cluster: app-sre-stage-01
    kube_namespace: code-quarkus-stage
    saasherder_context: code-quarkus
    saasherder_services: code-quarkus
    saas_git: https://github.com/quarkusio/code.quarkus.io-release
    jobs:
    - 'gh-build-master':
        display_name: code.quarkus.io build master

- project:
    name: code-quarkus-cd
    label: code-quarkus
    node: quarkus
    gh_org: quarkusio
    gh_repo: code.quarkus.io-release
    saasherder_context: code-quarkus
    image_pattern: '^quay\.io/quarkus/code-quarkus-app'
    quay_org: quarkus
    kube_cluster: app-sre-prod-01
    kube_namespace: code-quarkus-production
    jobs:
    - 'saas-deploy':
        display_name: code.quarkus.io saas deploy
    - 'saas-pr-check':
        display_name: code.quarkus.io saas pr check

- project:
    name: code-quarkus-redhat-ci
    label: code-quarkus-redhat
    node: quarkus
    gh_org: redhat-developer
    gh_repo: code.quarkus.redhat.com
    quay_org: redhat-developer
    kube_cluster: app-sre-stage-01
    kube_namespace: code-quarkus-redhat-stage
    saasherder_context: code-quarkus-redhat
    saasherder_services: code-quarkus-redhat
    saas_git: https://github.com/redhat-developer/code.quarkus.redhat.com-release
    jobs:
    - 'gh-build-master':
        display_name: code.quarkus.redhat.com build master

- project:
    name: code-quarkus-redhat-cd
    label: code-quarkus-redhat
    node: quarkus
    gh_org: redhat-developer
    gh_repo: code.quarkus.redhat.com-release
    saasherder_context: code-quarkus-redhat
    image_pattern: '^quay\.io/redhat-developer/code-quarkus'
    quay_org: redhat-developer
    kube_cluster: app-sre-prod-01
    kube_namespace: code-quarkus-redhat-production
    jobs:
    - 'saas-deploy':
        display_name: code.quarkus.redhat.com saas deploy
    - 'saas-pr-check':
        display_name: code.quarkus.redhat.com saas pr check
