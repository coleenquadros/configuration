---
$schema: /openshift/openshift-cluster-manager-1.yml
labels:
  service: app-sre
  support: critical
name: ocm-production
description: OpenShift Cluster Manager production - App SRE OSDv4 clusters
environment:
  $ref: /dependencies/ocm/environments/production.yml
orgId: 1OXqyqko0vmxpV9dmXe9oFypJIw
accessTokenClientId: sd-app-sre-ocm-sa
accessTokenUrl: https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token
accessTokenClientSecret:
  path: app-sre/creds/ocm/sd-app-sre-ocm-app-interface
  field: client_secret
blockedVersions:
- ^.*-ec\..*$
- ^.*-fc\..*$
- ^4\.11\.0-rc\.[0-5]$

upgradePolicyAllowedWorkloads:
- appsre
- backplane
- clair
- crc
- hacbs
- hive
- hypershift
- kcp
- ocm
- ocm-quay
- quay
- telemeter
- example
- stonesoup

upgradePolicyAllowedMutexes:
- ocm-quay-critical
# shared by all clusters on the candidate channel and having 0 soak days
- candidate-0
- hive-production
- ocmquay-production
- backplane

upgradePolicyClusters:
- name: appint-ex-01
  upgradePolicy:
    workloads:
    - example
    schedule: '* * * * *'
    conditions:
      soakDays: 0
recommendedVersions:
- workload: example
  channel: candidate
  recommendedVersion: 4.13.0
  initialVersion: openshift-v4.13.0-candidate
