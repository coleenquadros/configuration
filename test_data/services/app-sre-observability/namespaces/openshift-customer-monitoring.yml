---
$schema: /openshift/namespace-1.yml

labels: {}

name: openshift-customer-monitoring
description: App-SRE OpenShift Application monitoring

cluster:
  $ref: /openshift/aws-resources/cluster.yml

app:
  $ref: /services/app-sre-observability/app.yml

environment:
  $ref: /products/app-sre/environments/test.yml

managedResourceTypes:
- PrometheusRule

openshiftResources:
- provider: prometheus-rule
  type: resource-template-extracurlyjinja2
  path: /services/app-sre-observability/rds-approved-versions.prometheusrules.yaml.j2
  enable_query_support: true
  variables:
    accounts_with_aws_resource_exporter:
    - test
- provider: resource-template
  path: /observability/aws-resource-exporter/aws-resource-exporter.configmap.yaml.j2
  enable_query_support: true
  variables:
    name: aws-resource-exporter-test
    account_name: test
    rds: true
    vpc: false
    route53: false
    ec2: false
