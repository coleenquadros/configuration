---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: koku
  labels:
    prometheus: app-sre
spec:
  endpoints:
  - interval: 15s
    path: /metrics
    port: 8888-tcp
  - interval: 15s
    path: /metrics
    port: 8080-tcp
  - interval: 15s
    path: /metrics
    port: stats
  - interval: 15s
    path: /metrics
    port: 9100-tcp
  - interval: 15s
    path: /metrics
    port: 9091-tcp
  - interval: 15s
    path: /metrics
    port: web
  - interval: 15s
    path: /metrics
    port: metrics
  namespaceSelector:
    matchNames:
    - hccm-prod
  selector:
    matchLabels:
      app: koku
